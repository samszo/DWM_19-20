<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Cartographie</title>

    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.5.1/dist/leaflet.css"
    integrity="sha512-xwE/Az9zrjBIphAcBb3F6JVqxf46+CDLwfLMHloNu6KEQCAWi6HcDUbeOfBIptF7tcCzusKFjFw2yuvEpDL9wQ=="
    crossorigin=""/>

    <!-- Make sure you put this AFTER Leaflet's CSS -->
    <script src="https://unpkg.com/leaflet@1.5.1/dist/leaflet.js"
    integrity="sha512-GffPMF3RvMeYyc1LWMHtK8EbPv0iNZ8/oTtHPx9/cc2ILxQ+u905qIwdpULaqDkyBKgOaB57QTMg7ztg8Jm2Og=="
    crossorigin=""></script>

    <style>
    #mapid { height: 400px; }
    </style>
</head>
<body>
    <div id="mapid"></div>
    <script>
    var lat = 48.946538, lng = 2.3632178;
    var map = L.map('mapid').setView([lat,lng], 14);
    /*
    var positron = L.tileLayer('https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}.png', {
        attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, &copy; <a href="https://carto.com/attribution">CARTO</a>'
    }).addTo(map);
    */
    L.tileLayer('//{s}.tile.openstreetmap.fr/osmfr/{z}/{x}/{y}.png', {
            attribution: 'donn&eacute;es &copy; <a href="//osm.org/copyright">OpenStreetMap</a>/ODbL - rendu <a href="//openstreetmap.fr">OSM France</a>',
            minZoom: 1,
            maxZoom: 20
        }).addTo(map);
    /*
    <a href='https://gallica.bnf.fr/ark:/12148/btv1b10536306v/f12.item' target='_blank'><img src='https://gallica.bnf.fr/iiif/ark:/12148/btv1b10536306v/f12/3836.3762304550924,1553.3827504424303,1364.0814753742675,1084.845973356476/425,338/0/native.jpg'/></a>
    */
    /*
    var marker = L.marker([lat, lng]).addTo(map);
    marker.bindPopup("<b>Hello world!</b><br>je suis un marker.");
    var iconPapi = L.icon({
        iconUrl: 'img/papi1.png',
        iconSize: [100, 100],
        iconAnchor: [50, 50],
        popupAnchor: [-3, -50],
    });
    var mkrPapi = L.marker([(lat), (lng)], {icon: iconPapi}).addTo(map);
    mkrPapi.bindPopup("<b>Hello world!</b><br>Je suis un papillon.<br>voici mon frère");
    */
   
    //récupère la géolocalisation de l'utilisateur
    var geo = false;
    if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition(function(p){
            geo = p;
            L.marker([p.coords.latitude, p.coords.longitude]).addTo(map);
        });
    }
    
    </script>
</body>
</html>